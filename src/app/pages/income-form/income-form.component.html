<ion-content class="ion-padding">
  <div class="form-container">
    <!-- Header -->
    <div class="illustration">
      <img src="assets/images/income-illustration.jpg" alt="Finance Management Illustration">
    </div>

    <!-- Income Table -->
    <div class="income-table">
      <h2>Your Income Sources</h2>
      <div *ngIf="savedIncomes.length === 0" class="empty-state">
        <p>No income sources added yet. Add your first income source below.</p>
      </div>
      <ion-list *ngIf="savedIncomes.length > 0">
        <ion-item color="primary" *ngFor="let income of savedIncomes; let i=index">
          <ion-label>
            <h3>{{income.name}}</h3>
            <p>{{income.amount | currency:'EUR'}}</p>
          </ion-label>
          <ion-button slot="end" 
                      fill="clear" 
                      color="light" 
                      (click)="removeIncome(i)">
            <ion-icon name="trash-outline"></ion-icon>
          </ion-button>
        </ion-item>
      </ion-list>
    </div>

    <!-- Add New Income Form -->
    <div class="add-income-form">
      <h2>Add New Income Source</h2>
      <form [formGroup]="incomeForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label>Income Source</label>
          <ion-input 
            class="custom-input"
            formControlName="source" 
            placeholder="e.g., Salary, Freelance, Business">
          </ion-input>
        </div>

        <div class="form-group">
          <label>Amount</label>
          <ion-input 
            class="custom-input"
            type="number" 
            formControlName="amount" 
            placeholder="0.00">
            <ion-text slot="end" class="currency">â‚¬</ion-text>
          </ion-input>
        </div>

        <ion-button expand="block" 
                  type="submit" 
                  [disabled]="!incomeForm.valid"
                  class="submit-button">
          Add Income Source
        </ion-button>
      </form>
    </div>

    <!-- Navigation -->
    <div class="page-navigation">
      <app-progress-dots [currentStep]="1"></app-progress-dots>
      <div class="nav-buttons">
        <ion-button 
          class="back-button" 
          fill="clear"
          (click)="navigateBack()">
          <ion-icon name="arrow-back-outline" slot="start"></ion-icon>
          Previous
        </ion-button>
        <ion-button 
          class="next-button" 
          [disabled]="savedIncomes.length === 0"
          (click)="continueToNext()">
          Next
          <ion-icon name="arrow-forward-outline" slot="end"></ion-icon>
        </ion-button>
      </div>
    </div>
  </div>
</ion-content> 