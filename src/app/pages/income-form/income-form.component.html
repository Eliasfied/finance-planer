<ion-content class="ion-padding">
  <div class="form-container">
    <!-- Header -->
    <div class="welcome-header">
      <h1>Add Your Income Sources ðŸ’°</h1>
      <p>Let's start by adding your monthly income sources.</p>
    </div>

    <form [formGroup]="incomeForm" (ngSubmit)="onSubmit()">
      <div formArrayName="incomes">
        <div *ngFor="let income of incomes.controls; let i=index" [formGroupName]="i">
          <ion-card class="income-card">
            <ion-card-content>
              <div class="form-group">
                <label>Income Source</label>
                <ion-input 
                  class="custom-input"
                  formControlName="source" 
                  placeholder="e.g., Salary, Freelance, Business">
                </ion-input>
              </div>

              <div class="form-group">
                <label>Amount</label>
                <ion-input 
                  class="custom-input"
                  type="number" 
                  formControlName="amount" 
                  placeholder="0.00">
                  <ion-text slot="end" class="currency">â‚¬</ion-text>
                </ion-input>
              </div>

              <ion-button *ngIf="incomes.length > 1" 
                        fill="clear"
                        color="danger" 
                        (click)="removeIncome(i)"
                        class="remove-button">
                <ion-icon name="trash-outline" slot="start"></ion-icon>
                Remove
              </ion-button>
            </ion-card-content>
          </ion-card>
        </div>
      </div>

      <!-- Add Income Button -->
      <ion-button expand="block" 
                  fill="outline"
                  class="add-button"
                  (click)="addIncome()">
        <ion-icon name="add-outline" slot="start"></ion-icon>
        Add Another Income Source
      </ion-button>

      <!-- Submit Button -->
      <ion-button expand="block" 
                  type="submit" 
                  [disabled]="!incomeForm.valid"
                  class="submit-button">
        Continue
      </ion-button>

      <!-- Skip Link -->
      <div class="skip-link">
        Want to add this later? <a (click)="skipForNow()">Skip for now</a>
      </div>
    </form>
  </div>
</ion-content> 